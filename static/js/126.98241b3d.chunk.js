(self.webpackChunkdata_intell=self.webpackChunkdata_intell||[]).push([[126],{13524:function(e,t,n){"use strict";var a=n(43144),l=n(15671),s=(0,a.Z)((function e(){(0,l.Z)(this,e)}));s.BASE_URL="https://insightbackendservice.azurewebsites.net/api/";var r=(0,a.Z)((function e(){(0,l.Z)(this,e)}));r.ADMIN_SIGN_UP_URL=s.BASE_URL+"users/create_account",r.ADMIN_LOGIN_URL=s.BASE_URL+"users/login",r.ADD_NEW_CLIENT_URL=s.BASE_URL+"users/client/register",r.CLIENT_ADMIN_SIGN_UP_URL=s.BASE_URL+"users/client/create_account",r.CLIENT_ADMIN_LOGIN_URL=s.BASE_URL+"users/clientAdmin/login",r.GET_ALL_CLIENTS_URL=s.BASE_URL+"users/clients",r.GET_ALL_APP_CLIENTS_URL=s.BASE_URL+"users/clients_only",r.DELETE_CLIENT_INFO_URL=s.BASE_URL+"users/delete/clientInfo",r.GET_CLIENT_REPORTS_URL=s.BASE_URL+"users/client/reports",r.ADD_CLIENT_USER_URL=s.BASE_URL+"users/clientUser/register",r.UPDATE_CLIENT_INFO_URL=s.BASE_URL+"users/update/clientInfo",r.UPDATE_CLIENT_USER_INFO_URL=s.BASE_URL+"users/update/clientUsersInfo",r.DELETE_CLIENT_USER_INFO_URL=s.BASE_URL+"users/clientUser/deleteInfo",r.GET_ALL_CLIENT_USERS_URL=s.BASE_URL+"users/clientUsers",r.ASSIGN_REPORTS_TO_USERS_URL=s.BASE_URL+"users/client_reports/assignReports",r.GET_ALL_ASIGNED_REPORTS_URL=s.BASE_URL+"users/client_reports/assignments",r.DELETE_ASSIGNMENT_INFO_URL=s.BASE_URL+"users/client_reports/assignments/deleteInfo",r.ACCESS_TOKEN_URL=s.BASE_URL+"users/accessToken",r.GET_ALL_INTEL_ADMINS_URL=s.BASE_URL+"users/intelAdmins",r.CHANGE_PASSWORD=s.BASE_URL+"users/intelAdmin/change_password/",r.FORGOT_PASSWORD_URL=s.BASE_URL+"users/intelAdmin/forgot_password",r.RESET_PASSWORD_URL=s.BASE_URL+"users/intelAdmin/reset_password",t.Z=r},99375:function(e,t,n){"use strict";var a=n(43144),l=n(15671),s=n(30456),r=localStorage.IntellUserToken,c=(0,s.Z)(r),i=c.client_id,o=c.email,m=c.id,d=c.username,u=c.user_status,h=c.user_type,E=(0,a.Z)((function e(){(0,l.Z)(this,e)}));E.UserEmail=o,E.UserId=m,E.UserName=d,E.UserType=h,E.UserStatus=u,E.ClientId=i,t.Z=E},13126:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(15671),l=n(43144),s=n(60136),r=n(48347),c=n(72791),i=n(54164),o=n(81694),m=n.n(o),d=n(27988),u=n(70836),h=n(97326),E=n(81815),p=n(64668),_=n(73002),Z=n(13524),b=n(97254),g=(n(50583),n(4942)),v=n(49196),C=n(37345),N=n(66919),f=n(54555),y=(n(81238),function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={name:"",address:"",country:"",license_number:"",license_expiryDate:"",contract_startDate:"",contract_endDate:"",phone_number:"",email:"",message:"",isLoaded:!1},l.handleUpdateItem=l.handleUpdateItem.bind((0,h.Z)(l)),l.onChange=l.onChange.bind((0,h.Z)(l)),l}return(0,l.Z)(n,[{key:"onChange",value:function(e){this.setState((0,g.Z)({},e.target.name,e.target.value))}},{key:"handleUpdateItem",value:function(e){var t=this;e.preventDefault();var n={name:this.state.name,address:this.state.address,country:this.state.country,license_number:this.state.license_number,license_expiryDate:this.state.license_expiryDate,contract_startDate:this.state.contract_startDate,contract_endDate:this.state.contract_endDate,phone_number:this.state.phone_number,email:this.state.email};console.log(n),fetch(Z.Z.ADD_NEW_CLIENT_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){t.setState({message:e.message,isLoaded:!0}),console.log([t.state.message])}),(function(e){t.setState({message:"Failed.. Try again!!"})}))}},{key:"render",value:function(){var e=this.state;e.counties,e.districts,e.members;return c.createElement(v.Z,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,id:"exampleModal"}),c.createElement(v.Z.Header,{closeButton:!0},c.createElement(v.Z.Title,{id:"contained-modal-title-vcenter"},c.createElement("div",{className:"modal-title"},"Add New Client "))),c.createElement(v.Z.Body,null,c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"name",className:"lable"},"Client Name"),c.createElement(f.Z,{type:"text",name:"name",value:this.state.name,onChange:this.onChange}))),c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"address",className:"lable"},"Address / City"),c.createElement(f.Z,{type:"text",name:"address",value:this.state.address,onChange:this.onChange})))),c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"country",className:"lable"},"Country"),c.createElement(f.Z,{type:"text",name:"country",value:this.state.country,onChange:this.onChange}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"license_number",className:"lable"},"License Number"),c.createElement(f.Z,{type:"number",name:"license_number",value:this.state.license_number,onChange:this.onChange}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"license_expiryDate",className:"lable"},"License Expiry Date"),c.createElement(f.Z,{type:"date",name:"license_expiryDate",value:this.state.license_expiryDate,onChange:this.onChange})))),c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"contract_startDate",className:"lable"},"Contract Start Date"),c.createElement(f.Z,{type:"date",name:"contract_startDate",value:this.state.contract_startDate,onChange:this.onChange}))),c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"contract_endDate",className:"lable"},"Contract End Date"),c.createElement(f.Z,{type:"date",name:"contract_endDate",value:this.state.contract_endDate,onChange:this.onChange})))),c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"phone_number",className:"lable"},"Office Telephone"),c.createElement(f.Z,{type:"number",name:"phone_number",value:this.state.phone_number,onChange:this.onChange}))),c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"email",className:"lable"},"Email Address"),c.createElement(f.Z,{type:"email",name:"email",value:this.state.email,onChange:this.onChange})))),c.createElement("hr",null),c.createElement("span",{className:"modal-alert"},this.state.message)),c.createElement(v.Z.Footer,null,c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"danger",size:"sm",className:"btn-pill bg-danger",onClick:this.props.onHide},"Close")),c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"success",size:"sm",className:"btn-pill bg-success",onClick:this.handleUpdateItem},"Save"))))}}]),n}(c.Component)),S=n(79271),L=(n(30456),function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={id:"",username:"",email:"",password:"",client_id:"",message:"",isLoaded:!1},l.handleUpdateItem=l.handleUpdateItem.bind((0,h.Z)(l)),l.onChange=l.onChange.bind((0,h.Z)(l)),l}return(0,l.Z)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,username:e.username,email:e.email,client_id:e.client_id})}},{key:"onChange",value:function(e){this.setState((0,g.Z)({},e.target.name,e.target.value))}},{key:"handleUpdateItem",value:function(e){var t=this;e.preventDefault();var n={username:this.state.username,id:this.state.id,email:this.state.email,client_id:this.state.client_id,password:this.state.password};fetch(Z.Z.CLIENT_ADMIN_SIGN_UP_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){t.setState({message:e.message,isLoaded:!0}),console.log([t.state.message])}),(function(e){t.setState({message:"Failed.. Try again!!"})}))}},{key:"render",value:function(){return c.createElement(v.Z,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),c.createElement(v.Z.Header,{closeButton:!0},c.createElement(v.Z.Title,{id:"contained-modal-title-vcenter"},c.createElement("h5",null,"Create Client Account"))),c.createElement(v.Z.Body,null,c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"12"},c.createElement(N.Z,null)),c.createElement(d.Z,{xs:"12"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"username",className:"lable"},"Username"),c.createElement(f.Z,{type:"text",name:"username",value:this.state.username,onChange:this.onChange,readOnly:!0}))),c.createElement(d.Z,{xs:"12"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"landlord_code",className:"lable"},"Email Address"),c.createElement(f.Z,{type:"text",name:"username",value:this.state.email,onChange:this.onChange,readOnly:!0}))),c.createElement(d.Z,{xs:"12"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"password",className:"lable"},"Enter Password"),c.createElement(f.Z,{type:"text",name:"password",value:this.state.password,onChange:this.onChange})))),c.createElement("hr",null),c.createElement("h5",null,c.createElement("span",{className:"text-success"},c.createElement("strong",null,this.state.message)))),c.createElement(v.Z.Footer,null,c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"danger",size:"sm",className:"btn-pill bg-danger",onClick:this.props.onHide},"Close")),c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"success",size:"sm",className:"btn-pill bg-success",onClick:this.handleUpdateItem},"Create"))))}}]),n}(c.Component)),U=(0,S.EN)(L),D=function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={id:"",email:"",phone_number:"",address:"",license_number:"",license_expiryDate:"",contract_number:"",contract_startDate:"",contract_endDate:"",members:[],message:"",createAccountModalShow:!1,isLoaded:!1},l.handleCreatAccount=l.handleCreatAccount.bind((0,h.Z)(l)),l.handleUpdateItem=l.handleUpdateItem.bind((0,h.Z)(l)),l.onChange=l.onChange.bind((0,h.Z)(l)),l}return(0,l.Z)(n,[{key:"onChange",value:function(e){this.setState((0,g.Z)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,email:e.email,phone_number:e.phone_number,address:e.address,country:e.country,license_number:e.license_number,license_expiryDate:e.license_expiryDate,contract_number:e.contract_number,contract_startDate:e.contract_startDate,contract_endDate:e.contract_endDate,client_status:e.client_status,client_name:e.client_name})}},{key:"componentDidMount",value:function(){var e=this;fetch(Z.Z.GET_ALL_MEMBERS_URL).then((function(e){return e.json()})).then((function(t){e.setState({members:t.members,isLoaded:!0})}))}},{key:"handleCreatAccount",value:function(e){e.preventDefault(),this.setState({createAccountModalShow:!0})}},{key:"handleUpdateItem",value:function(e){var t=this;e.preventDefault();var n={email:this.state.email,phone_number:this.state.phone_number,address:this.state.address,country:this.state.country,license_number:this.state.license_number,license_expiryDate:this.state.license_expiryDate,contract_startDate:this.state.contract_startDate,contract_endDate:this.state.contract_endDate,client_status:this.state.client_status};console.log(n),fetch(Z.Z.UPDATE_CLIENT_INFO_URL+"/".concat(this.state.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){t.setState({message:e.message,isLoaded:!0}),console.log([t.state.message])}),(function(e){t.setState({message:"Failed.. Try again!!"})}))}},{key:"render",value:function(){var e=this,t=this.state;t.counties,t.districts,t.members;return c.createElement(v.Z,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,id:"exampleModal"}),c.createElement(v.Z.Header,{closeButton:!0},c.createElement(v.Z.Title,{id:"contained-modal-title-vcenter"},c.createElement("div",{className:"modal-title"},"Client Details"))),c.createElement(v.Z.Body,null,c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"client_name",className:"lable"},"Client Name"),c.createElement(f.Z,{type:"text",name:"client_name",value:this.state.client_name,onChange:this.onChange,readOnly:!0}))),c.createElement(d.Z,{xs:"6"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"address",className:"lable"},"Address / City"),c.createElement(f.Z,{type:"text",name:"address",value:this.state.address,onChange:this.onChange})))),c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"country",className:"lable"},"Country"),c.createElement(f.Z,{type:"text",name:"country",value:this.state.country,onChange:this.onChange}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"license_number",className:"lable"},"License Number"),c.createElement(f.Z,{type:"number",name:"license_number",value:this.state.license_number,onChange:this.onChange}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"license_expiryDate",className:"lable"},"License Expiry Date"),c.createElement(f.Z,{type:"date",name:"license_expiryDate",value:this.state.license_expiryDate,onChange:this.onChange})))),c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"contract_number",className:"lable"},"Contract Number"),c.createElement(f.Z,{type:"number",name:"contract_number",value:this.state.contract_number,onChange:this.onChange,readOnly:!0}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"contract_startDate",className:"lable"},"Contract Start Date"),c.createElement(f.Z,{type:"date",name:"contract_startDate",value:this.state.contract_startDate,onChange:this.onChange}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"contract_endDate",className:"lable"},"Contract End Date"),c.createElement(f.Z,{type:"date",name:"contract_endDate",value:this.state.contract_endDate,onChange:this.onChange})))),c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"phone_number",className:"lable"},"Contract Status"),c.createElement(f.Z,{type:"select",name:"client_status",value:this.state.client_status,onChange:this.onChange},c.createElement("option",null),c.createElement("option",null,"Active"),c.createElement("option",null,"Inactive"),c.createElement("option",null,"Expired")))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"phone_number",className:"lable"},"Office Telephone"),c.createElement(f.Z,{type:"number",name:"phone_number",value:this.state.phone_number,onChange:this.onChange}))),c.createElement(d.Z,{xs:"4"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"email",className:"lable"},"Email Address"),c.createElement(f.Z,{type:"email",name:"email",value:this.state.email,onChange:this.onChange})))),c.createElement("hr",null),c.createElement("span",{className:"modal-alert"},this.state.message)),c.createElement(v.Z.Footer,null,c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"danger",size:"sm",className:"btn-pill bg-danger",onClick:this.props.onHide},"Delet")),c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"success",size:"sm",className:"btn-pill bg-success",onClick:this.handleCreatAccount},"Create Account")),c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"success",size:"sm",className:"btn-pill bg-success",onClick:this.handleUpdateItem},"Save Changes"))),c.createElement(U,{id:this.state.id,username:this.state.client_name,email:this.state.email,client_id:this.state.contract_number,show:this.state.createAccountModalShow,onHide:function(){return e.setState({createAccountModalShow:!1})}}))}}]),n}(c.Component),R=n(92043),k=(n(99375),function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={id:"",client_name:"",message:"",isLoaded:!1},l.handleUpdateItem=l.handleUpdateItem.bind((0,h.Z)(l)),l.onChange=l.onChange.bind((0,h.Z)(l)),l}return(0,l.Z)(n,[{key:"onChange",value:function(e){this.setState((0,g.Z)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,client_name:e.client_name})}},{key:"handleUpdateItem",value:function(e){var t=this;e.preventDefault();var n={id:this.state.id};console.log(n),fetch(Z.Z.DELETE_CLIENT_INFO_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){t.setState({message:e.message,isLoaded:!0}),console.log([t.state.message])}),(function(e){t.setState({message:"Failed.. Try again!!"})}))}},{key:"render",value:function(){var e=this.state;e.counties,e.districts,e.members;return c.createElement(v.Z,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,id:"exampleModal"}),c.createElement(v.Z.Header,{closeButton:!0},c.createElement(v.Z.Title,{id:"contained-modal-title-vcenter"},c.createElement("div",{className:"modal-title"},"Delete Client "))),c.createElement(v.Z.Body,null,c.createElement(N.Z,{row:!0,className:"my-0"},c.createElement(d.Z,{xs:"12"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"",className:"lable"},"Client Name: ",this.state.client_name.toUpperCase()))),c.createElement(d.Z,{xs:"12"},c.createElement(N.Z,null,c.createElement(_.Z,{htmlFor:"",className:"lable"},"Are you sure you want to delete or remove this client?")))),c.createElement("hr",null),c.createElement("span",{className:"modal-alert"},this.state.message)),c.createElement(v.Z.Footer,null,c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"danger",size:"sm",className:"btn-pill bg-danger",onClick:this.props.onHide},"NO")),c.createElement("div",{className:"d-inline"},c.createElement(C.Z,{block:!0,color:"success",size:"sm",className:"btn-pill bg-success",onClick:this.handleUpdateItem},"YES"))))}}]),n}(c.Component)),I=function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).handleSearchInput=function(e){l.setState({searchItem:e.target.value})},l.state={groups:[],isLoaded:!1,searchItem:"",addModalShow:!1,editModalShow:!1,reportsModalShow:!1,deleteClientModalShow:!1},l.handleRefreshButton=l.handleRefreshButton.bind((0,h.Z)(l)),l}return(0,l.Z)(n,[{key:"handleRefreshButton",value:function(e){e.preventDefault(),window.location.reload(!1)}},{key:"componentDidMount",value:function(){var e=this;fetch(Z.Z.GET_ALL_APP_CLIENTS_URL).then((function(e){return e.json()})).then((function(t){e.setState({groups:t.groups,isLoaded:!0})}))}},{key:"render",value:function(){var e=this;console.log(this.state.groups);var t=this.state,n=t.isLoaded,a=t.groups,l=this.state,s=l.Id,r=l.Email,i=l.PhoneNumber,o=l.Address,m=l.Country,d=l.LicenseNumber,u=l.LicenseExpiryDate,h=l.ContractNumber,Z=l.ContractStartDate,g=l.ContractEndDate,v=l.ClientStatus,C=l.ClientName,N=a.filter((function(t){return t.client_name.toLowerCase().includes(e.state.searchItem.toLowerCase())}));return n?c.createElement("div",null,c.createElement("div",{className:""},c.createElement(E.Z,{className:"btn-pill btn-success",size:"sm",onClick:function(){return e.setState({addModalShow:!0})}},c.createElement("strong",null,c.createElement("i",{class:"icon-plus"})," Add Client")),c.createElement(E.Z,{className:"btn-pill btn-success btn-space",size:"sm",onClick:this.handleRefreshButton},c.createElement("strong",null,c.createElement("i",{class:"icon-refresh"})," Refresh")),c.createElement("form",{className:"form-inline mr-auto formRight active-pink-3 active-pink-4"},c.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search by Client Name","aria-label":"Search",onChange:this.handleSearchInput}),c.createElement("i",{class:"icon-search","aria-hidden":"true"}))),c.createElement("hr",null),c.createElement("div",{className:"parentDiv2"},c.createElement(p.Z,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},c.createElement("thead",{className:"thead-light"},c.createElement("tr",null,c.createElement("th",null,"Client Name"),c.createElement("th",null,"License No"),c.createElement("th",null,"License Expiry"),c.createElement("th",null,"Contract No"),c.createElement("th",null,"Contract Start"),c.createElement("th",null,"Contract End"),c.createElement("th",null,"Contract Status"),c.createElement("th",null,"Action"))),c.createElement("tbody",null,N.map((function(t,n){return c.createElement("tr",{key:n},c.createElement("td",null,c.createElement("div",null,t.client_name.toUpperCase())),c.createElement("td",null,c.createElement("div",null,t.license_number)),c.createElement("td",null,c.createElement("div",null,t.license_expiryDate)),c.createElement("td",null,c.createElement("div",null,t.contract_number)),c.createElement("td",null,c.createElement("div",null,t.contract_startDate)),c.createElement("td",null,c.createElement("div",null,t.contract_endDate)),c.createElement("td",null,c.createElement("div",null,t.client_status)),c.createElement("td",null,c.createElement("div",null,c.createElement(_.Z,{block:!0,color:"info",size:"sm",className:"btn-pill bg-info",onClick:function(){e.setState({editModalShow:!0,Id:t.id,Email:t.email,PhoneNumber:t.phone_number,Address:t.address,Country:t.country,LicenseNumber:t.license_number,LicenseExpiryDate:t.license_expiryDate,ContractNumber:t.contract_number,ContractStartDate:t.contract_startDate,ContractEndDate:t.contract_endDate,ClientStatus:t.client_status,ClientName:t.client_name})}},c.createElement("strong",{className:"action"},"Details")),c.createElement(_.Z,{block:!0,color:"info",size:"sm",className:"btn-pill bg-success btn-space",onClick:function(){e.setState({reportsModalShow:!0,Id:t.id,ClientName:t.client_name})}},c.createElement("strong",{className:"action"},"Reports")),c.createElement(_.Z,{block:!0,color:"info",size:"sm",className:"btn-pill bg-danger btn-space",onClick:function(){e.setState({deleteClientModalShow:!0,Id:t.id,ClientName:t.client_name})}},c.createElement("strong",{className:"action"},"Delete")))))}))))),c.createElement(y,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}}),c.createElement(D,{id:s,email:r,phone_number:i,address:o,country:m,license_number:d,license_expiryDate:u,contract_number:h,contract_startDate:Z,contract_endDate:g,client_status:v,client_name:C,show:this.state.editModalShow,onHide:function(){return e.setState({editModalShow:!1})}}),c.createElement(R.Z,{id:s,client_name:C,show:this.state.reportsModalShow,onHide:function(){return e.setState({reportsModalShow:!1})}}),c.createElement(k,{id:s,client_name:C,show:this.state.deleteClientModalShow,onHide:function(){return e.setState({deleteClientModalShow:!1})}})):c.createElement("div",{className:"spinner"},c.createElement(b.Z,null))}}]),n}(c.Component),A=function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={bgColor:"rgb(255, 255, 255)"},l}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=i.findDOMNode(this).parentNode.firstChild,t=window.getComputedStyle(e).getPropertyValue("background-color");this.setState({bgColor:t||this.state.bgColor})}},{key:"render",value:function(){return c.createElement("table",{className:"w-100"},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{className:"text-muted"},"HEX:"),c.createElement("td",{className:"font-weight-bold"},(0,u.rgbToHex)(this.state.bgColor))),c.createElement("tr",null,c.createElement("td",{className:"text-muted"},"RGB:"),c.createElement("td",{className:"font-weight-bold"},this.state.bgColor))))}}]),n}(c.Component),T=(c.Component,function(e){(0,s.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"render",value:function(){return c.createElement("div",{className:"animated fadeIn"},c.createElement("div",{className:"card"},c.createElement("div",{className:"card-header"},c.createElement("i",{className:"fa fa-file-text"})," Client List"),c.createElement("div",{className:"card-body"},c.createElement(I,null))))}}]),n}(c.Component)),w=T},92043:function(e,t,n){"use strict";var a=n(4942),l=n(15671),s=n(43144),r=n(97326),c=n(60136),i=n(48347),o=n(72791),m=n(91523),d=n(49196),u=n(37345),h=n(64668),E=n(73002),p=(n(81238),n(74569),n(97473),n(13524)),_=n(67375),Z=function(e){(0,c.Z)(n,e);var t=(0,i.Z)(n);function n(e){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).openContentFullscreen=function(){var e=a.fullscreenModal.current;e.requestFullscreen&&e.requestFullscreen()},a.handleSearchInput=function(e){a.setState({searchItem:e.target.value})},a.state={id:"",embedUrl:"",value:[],accessToken:"",message:"",searchItem:"",isLoaded:!1,viewReportsModalShow:!1},a.handleUpdateItem=a.handleUpdateItem.bind((0,r.Z)(a)),a.onChange=a.onChange.bind((0,r.Z)(a)),a.fullscreenModal=o.createRef(),a}return(0,s.Z)(n,[{key:"onChange",value:function(e){this.setState((0,a.Z)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,client_name:e.client_name})}},{key:"handleUpdateItem",value:function(e){var t=this;e.preventDefault(),fetch(p.Z.GET_CLIENT_REPORTS_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({client_id:"".concat(this.state.id)})}).then((function(e){return e.json()})).then((function(e){t.setState({value:e.value,isLoaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.state,a=n.Id,l=n.EmbedUrl,s=t.filter((function(t){return t.name.toLowerCase().includes(e.state.searchItem.toLowerCase())}));return o.createElement(d.Z,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,id:"exampleModal"}),o.createElement(d.Z.Header,{closeButton:!0},o.createElement(d.Z.Title,{id:"contained-modal-title-vcenter"},o.createElement("div",{className:"modal-title"},this.state.client_name," Reports"))),o.createElement(d.Z.Body,null,o.createElement("div",{className:""},o.createElement(u.Z,{className:"btn-pill btn-success btn-space",size:"sm",onClick:this.handleUpdateItem},o.createElement("strong",null,o.createElement("i",{class:"icon-refresh"})," Load")),o.createElement("form",{className:"form-inline mr-auto formRight active-pink-3 active-pink-4"},o.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search by Report Name","aria-label":"Search",onChange:this.handleSearchInput}),o.createElement("i",{class:"icon-search","aria-hidden":"true"}))),o.createElement("hr",null),o.createElement(h.Z,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},o.createElement("thead",{className:"thead-light"},o.createElement("tr",null,o.createElement("th",null,"Report Name"),o.createElement("th",null),o.createElement("th",null),o.createElement("th",null,"Action"))),o.createElement("tbody",null,s.map((function(e,t){return o.createElement("tr",{key:t},o.createElement("td",null,o.createElement("div",null,e.name)),o.createElement("td",null,o.createElement("div",null)),o.createElement("td",null,o.createElement("div",null)),o.createElement("td",null,o.createElement("div",null,o.createElement(E.Z,{block:!0,color:"info",size:"sm",className:"btn-pill bg-success btn-space"},o.createElement(m.Link,{to:{pathname:"/client_report",embedUrl:e.embedUrl,id:e.id}},o.createElement("strong",{className:"actionLink"},"View Report"))))))})))),o.createElement("hr",null),o.createElement("span",{className:"modal-alert"},this.state.message)),o.createElement(d.Z.Footer,null,o.createElement("div",{className:"d-inline"},o.createElement(u.Z,{block:!0,color:"danger",size:"sm",className:"btn-pill bg-danger",onClick:this.props.onHide},"Close"))),o.createElement(_.Z,{id:a,embedUrl:l,show:this.state.viewReportsModalShow,onHide:function(){return e.setState({viewReportsModalShow:!1})}}))}}]),n}(o.Component);t.Z=Z},67375:function(e,t,n){"use strict";var a=n(4942),l=n(15671),s=n(43144),r=n(97326),c=n(60136),i=n(48347),o=n(72791),m=n(49196),d=(n(81238),n(63724)),u=n(76158),h=(n(30863),n(13524)),E=function(e){(0,c.Z)(n,e);var t=(0,i.Z)(n);function n(e){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).handleSearchInput=function(e){a.setState({searchItem:e.target.value})},a.state={id:"",embedUrl:"",access_token:"",value:[],message:"",searchItem:"",isLoaded:!1},a.onChange=a.onChange.bind((0,r.Z)(a)),a}return(0,s.Z)(n,[{key:"onChange",value:function(e){this.setState((0,a.Z)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,embedUrl:e.embedUrl})}},{key:"componentDidMount",value:function(){var e=this;fetch(h.Z.ACCESS_TOKEN_URL).then((function(e){return e.json()})).then((function(t){e.setState({access_token:t.access_token,isLoaded:!0})}))}},{key:"render",value:function(){return console.log(this.state.access_token),o.createElement(m.Z,Object.assign({},this.props,{size:"xl",centered:!0,id:"exampleModal"}),o.createElement(m.Z.Header,{closeButton:!0},o.createElement(m.Z.Title,{id:"contained-modal-title-vcenter"},o.createElement("div",{className:"modal-title"},"Report ",this.state.accessToken))),o.createElement(m.Z.Body,null,o.createElement(d.PowerBIEmbed,{embedConfig:{type:"report",id:"".concat(this.state.id),embedUrl:"".concat(this.state.embedUrl),accessToken:"".concat(this.state.access_token),tokenType:u.models.TokenType.Aad,settings:{panes:{filters:{expanded:!1,visible:!1}}}},eventHandlers:new Map([["loaded",function(){console.log("Report loaded")}],["rendered",function(){console.log("Report rendered")}],["error",function(e){console.log(e.detail)}]]),cssClassName:"Embed-container",getEmbeddedComponent:function(e){window.report=e}})))}}]),n}(o.Component);t.Z=E},97254:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(1413),l=n(15785),s=n(72791);function r(e){var t=e.color,n=e.className,r=e.style,c=(0,l.Z)(Array(12)).map((function(e,n){return s.createElement("div",{key:n},s.createElement("div",{className:"div-after",style:{background:t}}))}));return s.createElement("div",{className:"lds-spinner ".concat(n),style:(0,a.Z)({},r)},c)}r.defaultProps={color:"#FF4500",className:"",style:{}}},97473:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},81238:function(){},50583:function(){}}]);
//# sourceMappingURL=126.98241b3d.chunk.js.map