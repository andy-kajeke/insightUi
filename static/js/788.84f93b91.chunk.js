"use strict";(self.webpackChunkdata_intell=self.webpackChunkdata_intell||[]).push([[788],{13524:function(e,t,n){var a=n(43144),s=n(15671),r=(0,a.Z)((function e(){(0,s.Z)(this,e)}));r.BASE_URL="https://insightbackendservice.azurewebsites.net/api/";var l=(0,a.Z)((function e(){(0,s.Z)(this,e)}));l.ADMIN_SIGN_UP_URL=r.BASE_URL+"users/create_account",l.ADMIN_LOGIN_URL=r.BASE_URL+"users/login",l.ADD_NEW_CLIENT_URL=r.BASE_URL+"users/client/register",l.CLIENT_ADMIN_SIGN_UP_URL=r.BASE_URL+"users/client/create_account",l.CLIENT_ADMIN_LOGIN_URL=r.BASE_URL+"users/clientAdmin/login",l.GET_ALL_CLIENTS_URL=r.BASE_URL+"users/clients",l.GET_ALL_APP_CLIENTS_URL=r.BASE_URL+"users/clients_only",l.DELETE_CLIENT_INFO_URL=r.BASE_URL+"users/delete/clientInfo",l.GET_CLIENT_REPORTS_URL=r.BASE_URL+"users/client/reports",l.ADD_CLIENT_USER_URL=r.BASE_URL+"users/clientUser/register",l.UPDATE_CLIENT_INFO_URL=r.BASE_URL+"users/update/clientInfo",l.UPDATE_CLIENT_USER_INFO_URL=r.BASE_URL+"users/update/clientUsersInfo",l.DELETE_CLIENT_USER_INFO_URL=r.BASE_URL+"users/clientUser/deleteInfo",l.GET_ALL_CLIENT_USERS_URL=r.BASE_URL+"users/clientUsers",l.ASSIGN_REPORTS_TO_USERS_URL=r.BASE_URL+"users/client_reports/assignReports",l.GET_ALL_ASIGNED_REPORTS_URL=r.BASE_URL+"users/client_reports/assignments",l.DELETE_ASSIGNMENT_INFO_URL=r.BASE_URL+"users/client_reports/assignments/deleteInfo",l.ACCESS_TOKEN_URL=r.BASE_URL+"users/accessToken",l.GET_ALL_INTEL_ADMINS_URL=r.BASE_URL+"users/intelAdmins",l.CHANGE_PASSWORD=r.BASE_URL+"users/intelAdmin/change_password/",l.FORGOT_PASSWORD_URL=r.BASE_URL+"users/intelAdmin/forgot_password",l.RESET_PASSWORD_URL=r.BASE_URL+"users/intelAdmin/reset_password",t.Z=l},99375:function(e,t,n){var a=n(43144),s=n(15671),r=n(30456),l=localStorage.IntellUserToken,o=(0,r.Z)(l),c=o.client_id,i=o.email,m=o.id,d=o.username,u=o.user_status,E=o.user_type,h=(0,a.Z)((function e(){(0,s.Z)(this,e)}));h.UserEmail=i,h.UserId=m,h.UserName=d,h.UserType=E,h.UserStatus=u,h.ClientId=c,t.Z=h},77788:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var a=n(15671),s=n(43144),r=n(60136),l=n(48347),o=n(72791),c=n(54164),i=n(81694),m=n.n(i),d=n(27988),u=n(70836),E=n(97326),h=n(81815),_=n(64668),p=n(73002),f=n(91523),L=n(13524),S=n(97254),N=(n(50583),n(99375)),R=n(67375),v=n(4942),U=n(49196),g=n(37345),Z=n(66919),b=(n(81238),function(e){(0,r.Z)(n,e);var t=(0,l.Z)(n);function n(e){var s;return(0,a.Z)(this,n),(s=t.call(this,e)).state={id:"",report_name:"",username:"",message:"",isLoaded:!1},s.handleUpdateItem=s.handleUpdateItem.bind((0,E.Z)(s)),s.onChange=s.onChange.bind((0,E.Z)(s)),s}return(0,s.Z)(n,[{key:"onChange",value:function(e){this.setState((0,v.Z)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,report_name:e.report_name,username:e.username})}},{key:"handleUpdateItem",value:function(e){var t=this;e.preventDefault();var n={id:this.state.id};console.log(n),fetch(L.Z.DELETE_ASSIGNMENT_INFO_URL+"/".concat(this.state.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){t.setState({message:e.message,isLoaded:!0}),console.log([t.state.message])}),(function(e){t.setState({message:"Failed.. Try again!!"})}))}},{key:"render",value:function(){var e=this.state;e.counties,e.districts,e.members;return o.createElement(U.Z,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,id:"exampleModal"}),o.createElement(U.Z.Header,{closeButton:!0},o.createElement(U.Z.Title,{id:"contained-modal-title-vcenter"},o.createElement("div",{className:"modal-title"},"Remove Assignment "))),o.createElement(U.Z.Body,null,o.createElement(Z.Z,{row:!0,className:"my-0"},o.createElement(d.Z,{xs:"12"},o.createElement(Z.Z,null,o.createElement(p.Z,{htmlFor:"",className:"lable"},this.state.report_name))),o.createElement(d.Z,{xs:"12"},o.createElement(Z.Z,null,o.createElement(p.Z,{htmlFor:"",className:"lable"},"Are you sure you want to delete or remove this assignment from ",this.state.username,"?")))),o.createElement("hr",null),o.createElement("span",{className:"modal-alert"},this.state.message)),o.createElement(U.Z.Footer,null,o.createElement("div",{className:"d-inline"},o.createElement(g.Z,{block:!0,color:"danger",size:"sm",className:"btn-pill bg-danger",onClick:this.props.onHide},"NO")),o.createElement("div",{className:"d-inline"},o.createElement(g.Z,{block:!0,color:"success",size:"sm",className:"btn-pill bg-success",onClick:this.handleUpdateItem},"YES"))))}}]),n}(o.Component)),A=function(e){(0,r.Z)(n,e);var t=(0,l.Z)(n);function n(e){var s;return(0,a.Z)(this,n),(s=t.call(this,e)).handleSearchInput=function(e){s.setState({searchItem:e.target.value})},s.state={reports:[],isLoaded:!1,searchItem:"",addModalShow:!1,deleteModalShow:!1,reportsModalShow:!1},s.handleRefreshButton=s.handleRefreshButton.bind((0,E.Z)(s)),s}return(0,s.Z)(n,[{key:"handleRefreshButton",value:function(e){e.preventDefault(),window.location.reload(!1)}},{key:"componentDidMount",value:function(){var e=this;fetch(L.Z.GET_ALL_ASIGNED_REPORTS_URL+"/".concat(N.Z.ClientId)).then((function(e){return e.json()})).then((function(t){e.setState({reports:t.reports,isLoaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoaded,a=t.reports,s=this.state,r=s.Id,l=s.ReportId,c=s.EmbedUrl,i=s.ReportName,m=s.UserName,d=a.filter((function(t){return t.report_name.toLowerCase().includes(e.state.searchItem.toLowerCase())}));return n?o.createElement("div",null,o.createElement("div",{className:""},o.createElement(h.Z,{className:"btn-pill btn-success btn-space",size:"sm",onClick:this.handleRefreshButton},o.createElement("strong",null,o.createElement("i",{class:"icon-refresh"})," Refresh")),o.createElement("form",{className:"form-inline mr-auto formRight active-pink-3 active-pink-4"},o.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search by Report Name","aria-label":"Search",onChange:this.handleSearchInput}),o.createElement("i",{class:"icon-search","aria-hidden":"true"}))),o.createElement("hr",null),o.createElement("div",{className:"parentDiv2"},o.createElement(_.Z,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},o.createElement("thead",{className:"thead-light"},o.createElement("tr",null,o.createElement("th",null,"Report Name"),o.createElement("th",null,"Assigned To"),o.createElement("th",null,"Email"),o.createElement("th",null,"Date and Time"),o.createElement("th",null),o.createElement("th",null,"Actions"))),o.createElement("tbody",null,d.map((function(t,n){return o.createElement("tr",{key:n},o.createElement("td",null,o.createElement("div",null,t.report_name)),o.createElement("td",null,o.createElement("div",null,t.username)),o.createElement("td",null,o.createElement("div",null,t.user_email)),o.createElement("td",null,o.createElement("div",null,t.updated_at)),o.createElement("td",null,o.createElement("div",null)),o.createElement("td",null,o.createElement("div",null,o.createElement(p.Z,{block:!0,color:"info",size:"sm",className:"btn-pill bg-success btn-space"},o.createElement(f.Link,{to:{pathname:"/assigned_report",embedUrl:t.embedUrl,id:t.report_id}},o.createElement("strong",{className:"actionLink"},"View Report"))),o.createElement(p.Z,{block:!0,color:"info",size:"sm",className:"btn-space btn-pill bg-danger",onClick:function(){e.setState({deleteModalShow:!0,Id:t.id,ReportName:t.report_name,UserName:t.username})}},o.createElement("strong",{className:"action"},"Remove")))))}))))),o.createElement(R.Z,{id:l,embedUrl:c,show:this.state.reportsModalShow,onHide:function(){return e.setState({reportsModalShow:!1})}}),o.createElement(b,{id:r,report_name:i,username:m,show:this.state.deleteModalShow,onHide:function(){return e.setState({deleteModalShow:!1})}})):o.createElement("div",{className:"spinner"},o.createElement(S.Z,null))}}]),n}(o.Component),I=function(e){(0,r.Z)(n,e);var t=(0,l.Z)(n);function n(e){var s;return(0,a.Z)(this,n),(s=t.call(this,e)).state={bgColor:"rgb(255, 255, 255)"},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=c.findDOMNode(this).parentNode.firstChild,t=window.getComputedStyle(e).getPropertyValue("background-color");this.setState({bgColor:t||this.state.bgColor})}},{key:"render",value:function(){return o.createElement("table",{className:"w-100"},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{className:"text-muted"},"HEX:"),o.createElement("td",{className:"font-weight-bold"},(0,u.rgbToHex)(this.state.bgColor))),o.createElement("tr",null,o.createElement("td",{className:"text-muted"},"RGB:"),o.createElement("td",{className:"font-weight-bold"},this.state.bgColor))))}}]),n}(o.Component),T=(o.Component,function(e){(0,r.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return o.createElement("div",{className:"animated fadeIn"},o.createElement("div",{className:"card"},o.createElement("div",{className:"card-header"},o.createElement("i",{className:"fa fa-file-text"})," Assignment List"),o.createElement("div",{className:"card-body"},o.createElement(A,null))))}}]),n}(o.Component)),C=T},67375:function(e,t,n){var a=n(4942),s=n(15671),r=n(43144),l=n(97326),o=n(60136),c=n(48347),i=n(72791),m=n(49196),d=(n(81238),n(63724)),u=n(76158),E=(n(30863),n(13524)),h=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).handleSearchInput=function(e){a.setState({searchItem:e.target.value})},a.state={id:"",embedUrl:"",access_token:"",value:[],message:"",searchItem:"",isLoaded:!1},a.onChange=a.onChange.bind((0,l.Z)(a)),a}return(0,r.Z)(n,[{key:"onChange",value:function(e){this.setState((0,a.Z)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.id,embedUrl:e.embedUrl})}},{key:"componentDidMount",value:function(){var e=this;fetch(E.Z.ACCESS_TOKEN_URL).then((function(e){return e.json()})).then((function(t){e.setState({access_token:t.access_token,isLoaded:!0})}))}},{key:"render",value:function(){return console.log(this.state.access_token),i.createElement(m.Z,Object.assign({},this.props,{size:"xl",centered:!0,id:"exampleModal"}),i.createElement(m.Z.Header,{closeButton:!0},i.createElement(m.Z.Title,{id:"contained-modal-title-vcenter"},i.createElement("div",{className:"modal-title"},"Report ",this.state.accessToken))),i.createElement(m.Z.Body,null,i.createElement(d.PowerBIEmbed,{embedConfig:{type:"report",id:"".concat(this.state.id),embedUrl:"".concat(this.state.embedUrl),accessToken:"".concat(this.state.access_token),tokenType:u.models.TokenType.Aad,settings:{panes:{filters:{expanded:!1,visible:!1}}}},eventHandlers:new Map([["loaded",function(){console.log("Report loaded")}],["rendered",function(){console.log("Report rendered")}],["error",function(e){console.log(e.detail)}]]),cssClassName:"Embed-container",getEmbeddedComponent:function(e){window.report=e}})))}}]),n}(i.Component);t.Z=h},97254:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1413),s=n(15785),r=n(72791);function l(e){var t=e.color,n=e.className,l=e.style,o=(0,s.Z)(Array(12)).map((function(e,n){return r.createElement("div",{key:n},r.createElement("div",{className:"div-after",style:{background:t}}))}));return r.createElement("div",{className:"lds-spinner ".concat(n),style:(0,a.Z)({},l)},o)}l.defaultProps={color:"#FF4500",className:"",style:{}}},81238:function(){},50583:function(){}}]);
//# sourceMappingURL=788.84f93b91.chunk.js.map